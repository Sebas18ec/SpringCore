<!DOCTYPE html>
<html xmlns:th="htto://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
<title>Listado Materias</title>
</head>
<body>

	<nav class="navbar navbar-expand-md bg-dark navbar-dark">
		<a class="navbar-brand" href="#" th:href="@{/}">Proyecto Core</a>
	
		<div class="collapse navbar-collapse" id="collapsibleNavbar">
		
			<ul class="navbar-nav">
			
				<li sec:authorize="hasRole('ROLE_ADMIN')" class="nav-item">
				
					<a class="nav-link" th:href="@{/estudiantes}">Control de estudiantes</a>
				
				</li>
				<li class="nav-item">
				
					<a class="nav-link" th:href="@{/materias}">Control de materias</a>
				
				</li>
				<li  sec:authorize="hasRole('ROLE_ADMIN')" class="nav-item">
				
					<a class="nav-link" th:href="@{/reporte}">Mejor Materia</a>
				
				</li>
			
			</ul>
		
		</div>
	
	</nav>

	<br>
	<div class="container">

		<div class="row">
			<h1>Lista de Materias</h1>
		</div>
		
		<br>
		<div sec:authorize="hasRole('ROLE_ADMIN')" class="row">
			<div class="col-lg-3">
				<a th:href="@{/materias/nuevo}" class="btn btn-primary btn-sm-mb3">Añadir Materia</a>
			</div>
		</div>
		<br>
		<table class="table table-striped">
			<thead>
				<tr>
				
					<th>Materia</th>
					<th>Facultad</th>
					<th>Número de Estudiantes</th>
					<th>Fecha Inicio Materia</th>
					<th>Fecha Fin Materia</th>
					<th>Número de Tareas</th>
					
					<th>Valoración</th>
					<th sec:authorize="hasRole('ROLE_ADMIN')">Opciones</th>
					
					
				
				</tr>
			</thead>
			<tbody>
				<tr th:each="materia : ${materias}">
				
					<td th:text="${materia.nombre}">Nombre</td>
					<td th:text="${materia.facultad}">Facultad</td>
					<td th:text="${materia.nestudiantes}">Estudiantes</td>
					<td th:text="${materia.fechaInicioMateria}">FechaInicioMateria</td>
					<td th:text="${materia.fechaFinMateria}">FechaFinMateria</td>
					<td th:text="${materia.ntareas}">NumeroTareas</td>
					
					<td>
						<a th:href="@{/materias/valorar/{id}(id=${materia.id})}" class="btn btn-outline-secondary">Valorar</a>
						
					</td>
					
					<td sec:authorize="hasRole('ROLE_ADMIN')">
						<a th:href="@{/materias/editar/{id}(id=${materia.id})}" class="btn btn-outline-secondary">Editar</a>
						<a th:href="@{/materias/eliminar/{id}(id=${materia.id})}" class="btn btn-outline-danger">Eliminar</a>
					</td>
				
				
				</tr>
				
			</tbody>
		</table>
		
		
	</div>


</body>
</html>